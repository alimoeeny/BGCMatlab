function [chspk, csdspk] = UseProbeList(DATA, nprobes)        nx = floor(nprobes/2);    chspk = [-nx:nx] + DATA.probe(1); %used to be >0 & < DATA.nprobes, but this works better when loaded from %Spikes    chspk = chspk(ismember(chspk,DATA.probelist));%        if strcmp(nprobes,'dvdy')                if DATA.chspk(end) == DATA.allnprobes        else            dspk = [DATA.chspk DATA.chspk(end) + 1];        end        if max(DATA.chspk) >= DATA.allnprobes            dspk = [DATA.allnprobes-length(DATA.chspk):1:DATA.allnprobes];            csdspk = [DATA.allnprobes-length(DATA.chspk)-1:1:DATA.allnprobes];        elseif min(DATA.chspk) <= 1            dspk = [DATA.chspk DATA.chspk(end) + 1];            csdspk = [DATA.chspk DATA.chspk(end) + 1 DATA.chspk(end) + 2];        else            dspk = [DATA.chspk DATA.chspk(end) + 1];            csdspk = [DATA.chspk(1) - 1 DATA.chspk DATA.chspk(end) + 1];        end        dspk = dspk(dspk > 0 & dspk <= DATA.allnprobes);        csdspk = csdspk(csdspk > 0 & csdspk <= DATA.allnprobes);        chspk = dspk;    end            