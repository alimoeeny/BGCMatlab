function type = WhichPlotType(C,clnum, plottype)%AllV.WhichPlotType(Cluster, clnum, currentplottype)%works out correct plot spaces to use to show clustersif nargin < 3    plottype = 0;endif plottype == 11    type = plottype;    return;end    type = 1;    [a, C] = AllV.ClusterIsSet(C,clnum);    if isfield(C,'space')      if C.space(1) == 6;          type = C.space(2);          if type == 4   %%template              type = 3;          end      elseif C.space(1) == 2 && C.shape == 2 && C.space(2) == 4 %bug in old          type = C.space(2);      elseif C.space(1) == AllV.JAMESSPACE %James' autocut          type = 13;      elseif C.space(1) == AllV.USERSPACE %Arbitrary Combinations          type = 11;      else          type = C.space(1);          if type ==3 && C.space(3) > 12              type = 4;          end      end    else        type = 0;    endif type == 4    type = 4; %used to force this to 3. But need 4 if want to plot this automatciallyend