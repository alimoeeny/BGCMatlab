function cname = ClusterFile(name,varargin)filetype = 0;prefix = [];subdir = [];Ex = [];DATA = [];getdetails = 0;triggerset = 0;autocutmode = 'default';    j = 1;    while j <= length(varargin);        if isstruct(varargin{j})            if isfield(varargin{j},'exptno')                Ex = varargin{j};            end            if isfield(varargin{j},'Expt') || isfield(varargin{j},'triggerset')                DATA = varargin{j};                if isfield(DATA,'Expt')                    Ex = DATA.Expt;                end                if isfield(DATA,'clustersubdir')                    subdir = DATA.clustersubdir;                end                if isfield(DATA,'autocutmode')                    autocutmode = DATA.autocutmode;                end                triggerset = DATA.triggerset;            end            if isfield(Ex,'exptno')                prefix = sprintf('Expt%d',floor(Ex.exptno));                if isfield(Ex,'blk') && Ex.blk > 0                    prefix = [prefix 'a'];                end            end        elseif strncmpi(varargin{j},'ecker',6)            autocutmode = 'ecker';        elseif strncmpi(varargin{j},'mahal',5)            autocutmode = 'mahal';        elseif strncmpi(varargin{j},'james',5)            autocutmode = 'james';        elseif strcmp(varargin{j},'subdir')            j = j+1;            subdir = varargin{j};;        elseif strcmp(varargin{j},'auto')            filetype = 1;        elseif strcmp(varargin{j},'DistanceMatrix')            filetype = 4;        elseif strcmp(varargin{j},'log')            filetype = 2;        elseif strcmp(varargin{j},'clusterlog')            filetype = 3;        elseif strcmp(varargin{j},'details')            getdetails = 1;        elseif strcmp(varargin{j},'triggerset')            j = j+1;            triggerset = varargin{j};        end        j = j+1;    end        if exist(name,'dir')        a = name;    else        [a,b] = fileparts(name);    end    if length(subdir)        a = [a '/' subdir];    end    if isempty(a)        a = '.';    end        if strcmp(autocutmode,'ecker') && isdir([a '/Ecker'])        prefix = ['Ecker/' prefix];    elseif strcmpi(autocutmode,'james') && isdir([a '/James'])        prefix = ['James/' prefix];    end    if filetype == 2                cname = [a '/' prefix 'AutoLog.txt'];    elseif filetype == 3        if ~isfield(DATA, 'exptno')            cname = [a '/ClusterLog.txt'];        else            cname = sprintf('%s/ClusterLogExpt%d.txt',a,DATA.exptno);        end    elseif filetype == 4        cname = [a '/' prefix 'DistanceMatrix.mat'];    elseif filetype == 1        cname = [a '/' prefix 'AutoClusterTimes.mat'];    else        cname = [a '/' prefix 'ClusterTimes.mat'];    end    if getdetails        cname = strrep(cname,'Times.mat','TimesDetails.mat');    end            